<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>ECharts test</title>
<script src="js/esl.js"></script>
<script src="js/config.js"></script>
</head>

<body style="font:宋体;color:black">
<div id="view" style=" width:600px; height:350px; margin:100px"></div>

<script language="javascript">
	var dtx=[], dty=[];
	dty = [6, 28, 25, 8, 3];
	dtx = ["20岁以下", "20-29岁", "30-39岁", "40-49岁", "50岁以上"];
	data = dtx.map(function(d, i){ return {value:dty[i], name:d } });


option = {
	title : {
        text: '公司员工工龄分布',
        subtext: '',
		x:'center',
		y:20
    },
    tooltip : {
        trigger: 'axis',
        axisPointer : {            // 坐标轴指示器，坐标轴触发有效
            type : 'shadow'        // 默认为直线，可选为：'line' | 'shadow'
        }
    },
    legend: {
		y:'bottom',
        data:['1年以下', '2-3年','3-5年','5-10年','10年以上']
    },
    calculable : true,
    xAxis : [
        {
            type : 'value'
        }
    ],
    yAxis : [
        {
            type : 'category',
            data : ['现金管理部','营销管理部','投资银行部','企业业务部','风险管理部','金融市场部','机构业务部']
        }
    ],
    series : [
        {
            name:'1年以下',
            type:'bar',
            stack: '总量',
            itemStyle : { normal: {label : {show: true, position: 'insideRight'}}},
            data:[20, 5, 12, 2, 15, 4, 9]
        },
        {
            name:'2-3年',
            type:'bar',
            stack: '总量',
            itemStyle : { normal: {label : {show: true, position: 'insideRight'}}},
            data:[25, 7, 9, 12, 18, 1, 0]
        },
        {
            name:'3-5年',
            type:'bar',
            stack: '总量',
            itemStyle : { normal: {label : {show: true, position: 'insideRight'}}},
            data:[12, 5, 12, 0, 25, 14, 18]
        },
        {
            name:'5-10年',
            type:'bar',
            stack: '总量',
            itemStyle : { normal: {label : {show: true, position: 'insideRight'}}},
            data:[5, 5, 7, 3, 2, 10, 3]
        },
        {
            name:'10年以上',
            type:'bar',
            stack: '总量',
            itemStyle : { normal: {label : {show: true, position: 'insideRight'}}},
            data:[9, 2, 0, 0, 1, 1, 5]
        }
    ]
};
                    


	Init(option, "view");
	function Init(option,id){
		id=id || "main"
		require(['echarts','echarts/chart/line','echarts/chart/bar','echarts/chart/pie'],
            function (ec) {
                var myChart = ec.init(document.getElementById(id));				
				myChart.setOption(option);
            }
        )	 		
	}

</script>

</body>
</html>
